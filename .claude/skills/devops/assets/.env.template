# SyncKairos Environment Configuration Template
# Copy this file to .env and fill in the values

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# REDIS CONFIGURATION (PRIMARY State Store)
# ============================================
# Local: redis://localhost:6379
# Upstash: rediss://default:***@***.upstash.io:6379
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_TLS=false

# ============================================
# POSTGRESQL CONFIGURATION (AUDIT Only)
# ============================================
# Local: postgresql://postgres:postgres@localhost:5433/synckairos
# Supabase: postgresql://postgres:***@***.supabase.co:5432/postgres
# IMPORTANT: URL-encode special characters in password (# → %23, & → %26)
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/synckairos
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_SSL=false

# ============================================
# BULLMQ CONFIGURATION (Async DB Writes)
# ============================================
BULLMQ_REDIS_URL=redis://localhost:6379

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate strong secret: openssl rand -base64 32
# Local: Use simple secret
# Production: Use 64+ character secret, rotate regularly
JWT_SECRET=your-secret-key-here
JWT_EXPIRES_IN=24h

# ============================================
# LOGGING & MONITORING
# ============================================
# Levels: debug, info, warn, error
# Local: debug
# Staging: info
# Production: warn
LOG_LEVEL=info
PROMETHEUS_PORT=9090
SENTRY_DSN=

# ============================================
# RATE LIMITING
# ============================================
# Window in milliseconds (60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000
# Max requests per window
# Local/Staging: 100
# Production: 60 (stricter)
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=10000

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_CLEANUP_INTERVAL=300000
SESSION_MAX_AGE=86400000
